<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodScan - Analyse Nutritionnelle en Temps R√©el</title>
    <!-- TensorFlow.js et COCO-SSD via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
    <style>
        /* Styles int√©gr√©s avec design moderne inspir√© de l'image de r√©f√©rence */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        :root {
            --primary-color: #38b995;
            --secondary-color: #f0f6e8;
            --accent-color: #5ab552;
            --text-color: #1a1a1a;
            --text-secondary: #6c6c6c;
            --bg-color: #ffffff;
            --card-bg: #f9f9f9;
            --border-radius: 12px;
            --shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        /* Vegetable background elements */
        .bg-vegetable {
            position: fixed;
            z-index: -1;
            opacity: 0.04;
            pointer-events: none;
        }

        .bg-veg-1 {
            top: 5%;
            left: 2%;
            width: 150px;
            height: 150px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc1IDIwQzY1IDIwIDQwIDI1IDMwIDUwQzIwIDc1IDI1IDExMCA0MCAxMjVDNTUgMTQwIDk1IDE0MCAxMTAgMTI1QzEyNSAxMTAgMTMwIDc1IDEyMCA1MEMxMTAgMjUgODUgMjAgNzUgMjBaIiBzdHJva2U9IiMzOGI5OTUiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0iIzM4Yjk5NSIvPjxwYXRoIGQ9Ik03NSAyMEM3NSAyMCA3NSAzNSA3NSA1NVM3NSA4NSA3NSAxMDBDNzUgMTE1IDc1IDEzMCA3NSAxMzAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+');
            animation: floating 15s infinite alternate ease-in-out;
        }

        .bg-veg-2 {
            top: 70%;
            right: 5%;
            width: 180px;
            height: 180px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkwIDMwQzUwIDMwIDIwIDYwIDIwIDkwQzIwIDEyMCA1MCAxNTAgOTAgMTUwQzEzMCAxNTAgMTYwIDEyMCAxNjAgOTBDMTYwIDYwIDEzMCAzMCA5MCAzMFoiIHN0cm9rZT0iIzM4Yjk5NSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSIjMzhiOTk1Ii8+PHBhdGggZD0iTTkwIDMwQzg1IDQwIDg1IDUwIDg1IDYwQzg1IDcwIDkwIDgwIDk1IDkwQzkwIDEwMCA4NSAxMTAgODUgMTIwQzg1IDEzMCA4NSAxNDAgOTAgMTUwIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik01MCA5MEg2ME03MCw5MEg4ME05MCw5MEgxMDBNMTEwLDkwSDEyME0xMzAsOTBIMTQwIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==');
            animation: floating 18s infinite alternate-reverse ease-in-out;
        }

        .bg-veg-3 {
            bottom: 10%;
            left: 15%;
            width: 120px;
            height: 200px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDEyMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYwIDIwQzUwIDIwIDMwIDMwIDIwIDUwQzEwIDcwIDEwIDkwIDIwIDExMEMzMCAxMzAgNTAgMTQwIDYwIDE0MEw2MCAxODAiIHN0cm9rZT0iIzM4Yjk5NSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHBhdGggZD0iTTYwIDQwQzc1IDYwIDg1IDgwIDkwIDEwMEM5NSAxMjAgMTAwIDE0MCA5MCAxNjAiIHN0cm9rZT0iIzM4Yjk5NSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHBhdGggZD0iTTYwIDYwQzQ1IDgwIDM1IDEwMCAzMCAxMjBDMjUgMTQwIDIwIDE2MCAzMCAxODAiIHN0cm9rZT0iIzM4Yjk5NSIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+');
            animation: floating 12s infinite alternate ease-in-out;
        }

        .bg-veg-4 {
            top: 40%;
            right: 20%;
            width: 200px;
            height: 150px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDIwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEwMCAyNUM4MCAyNSA2MCAzNSA1MCA1MEMzMCA3NSAzMCAxMDAgNTAgMTI1QzcwIDE0NSAxMzAgMTQ1IDE1MCAxMjVDMTcwIDEwNSAxNzAgNzUgMTUwIDUwQzE0MCAzNSAxMjAgMjUgMTAwIDI1WiIgc3Ryb2tlPSIjMzhiOTk1IiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9IiMzOGI5OTUiLz48cGF0aCBkPSJNNjUgNTBDNzUgNjAgODUgNzAgOTUgODBDMTA1IDkwIDExNSAxMDAgMTI1IDExMCIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTI1IDUwQzExNSA2MCAxMDUgNzAgOTUgODBDODUgOTAgNzUgMTAwIDY1IDExMCIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=');
            animation: floating 20s infinite alternate-reverse ease-in-out;
        }

        .bg-veg-5 {
            top: 30%;
            left: 30%;
            width: 160px;
            height: 160px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDE2MCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iODAiIGN5PSI4MCIgcj0iNjAiIHN0cm9rZT0iIzM4Yjk5NSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSIjMzhiOTk1Ii8+PHBhdGggZD0iTTgwIDIwTDgwIDQwTTExMCAzMEw5OCA0OE0xMzAgNTVMODAgODBNMTMwIDEwNUwxMTAgMTMwTDgwIDgwTTU1IDEzMEw4MCA4ME0zMCAxMDVMNjAgODBNMzAgNTVMNjAgODBNNTAgMzBMNjUgNDUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+');
            animation: floating 15s infinite alternate ease-in-out 3s;
        }

        @keyframes floating {
            0% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(5px, -5px) rotate(2deg); }
            100% { transform: translate(-5px, 5px) rotate(-2deg); }
        }

        /* Background pattern */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(var(--secondary-color) 1px, transparent 1px);
            background-size: 30px 30px;
            opacity: 0.3;
            z-index: -2;
            pointer-events: none;
        }

        .container {
            max-width: 1440px;
            margin: 0 auto;
            padding: 0;
        }

        .app-header {
            display: flex;
            align-items: center;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
        }

        .logo {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 28px;
            margin-right: 8px;
        }

        .nav-links {
            display: flex;
            margin-left: 3rem;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            margin-right: 1.5rem;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .nav-links a.active {
            color: var(--text-color);
            font-weight: 500;
        }

        .header-right {
            margin-left: auto;
            display: flex;
            align-items: center;
        }

        .search-bar {
            background-color: var(--card-bg);
            border-radius: 50px;
            padding: 0.5rem 1rem;
            display: flex;
            align-items: center;
            width: 280px;
            margin-right: 1rem;
        }

        .search-bar input {
            border: none;
            background: transparent;
            outline: none;
            width: 100%;
            font-size: 0.9rem;
            color: var(--text-color);
        }

        .search-bar .search-icon {
            color: var(--text-secondary);
            font-size: 1rem;
            margin-right: 0.5rem;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        /* Main content styles */
        .main-content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            min-height: calc(100vh - 4.5rem);
        }

        .food-info-section {
            display: flex;
            flex-direction: column;
        }

        .food-title {
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .food-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .food-image-container {
            position: relative;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background-color: var(--secondary-color);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .food-image {
            max-width: 60%;
            max-height: 70%;
            object-fit: contain;
            transition: transform 0.5s ease;
        }

        .food-image:hover {
            transform: scale(1.05);
        }

        .scanning-label {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
            font-size: 0.9rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .scanning-label::before {
            content: "";
            width: 8px;
            height: 8px;
            background-color: var(--primary-color);
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 1.5s infinite;
        }

        .scanning-section {
            display: flex;
            flex-direction: column;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .see-all {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
        }

        .see-all:hover {
            color: var(--primary-color);
        }

        .tabs {
            display: flex;
            margin-bottom: 1.5rem;
        }

        .tab {
            padding: 0.5rem 1.2rem;
            border-radius: 50px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
            margin-right: 0.8rem;
            background-color: transparent;
            color: var(--text-secondary);
            border: none;
        }

        .tab.active {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 8px rgba(56, 185, 149, 0.2);
        }

        .tab:hover:not(.active) {
            background-color: rgba(56, 185, 149, 0.1);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .metric-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1.2rem;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
        }

        .metric-name {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .metric-value {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--text-color);
            display: flex;
            align-items: center;
        }

        .metric-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.8rem;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .smart-analysis {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .smart-analysis:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
        }

        .analysis-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .analysis-subtitle {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 1.2rem;
        }

        .analysis-sound-waves {
            width: 100%;
            height: 60px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDIwMCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEgMzBMMSA2MEw2IDYwTDYgMCIgc3Ryb2tlPSIjZWNlY2VjIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTExIDIwTDExIDYwTDE2IDYwTDE2IDEwIiBzdHJva2U9IiNlNWU1ZTUiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNMjEgNDVMMjEgNjBMMjYgNjBMMjYgMjUiIHN0cm9rZT0iI2RkZGRkZCIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0zMSAxNUwzMSA2MEwzNiA2MEwzNiA1IiBzdHJva2U9IiNlY2VjZWMiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNNDEgMThMNDEgNjBMNDYgNjBMNDYgOCIgc3Ryb2tlPSIjZTVlNWU1IiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTUxIDUwTDUxIDYwTDU2IDYwTDU2IDMwIiBzdHJva2U9IiNkZGRkZGQiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNNjEgNDBMNjEgNjBMNjYgNjBMNjYgMjAiIHN0cm9rZT0iI2VjZWNlYyIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik03MSAyNUw3MSA2MEw3NiA2MEw3NiA1IiBzdHJva2U9IiNlNWU1ZTUiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNODEgNUw4MSA2MEw4NiA2MEw4NiAxNSIgc3Ryb2tlPSIjZGRkZGRkIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTkxIDMwTDkxIDYwTDk2IDYwTDk2IDAiIHN0cm9rZT0iI2VjZWNlYyIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xMDEgMjBMMTAxIDYwTDEwNiA2MEwxMDYgMTAiIHN0cm9rZT0iI2U1ZTVlNSIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xMTEgNDVMMTExIDYwTDExNiA2MEwxMTYgMjUiIHN0cm9rZT0iI2RkZGRkZCIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xMjEgMTVMMTIxIDYwTDEyNiA2MEwxMjYgNSIgc3Ryb2tlPSIjZWNlY2VjIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTEzMSAxOEwxMzEgNjBMMTM2IDYwTDEzNiA4IiBzdHJva2U9IiNlNWU1ZTUiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNMTQxIDUwTDE0MSA2MEwxNDYgNjBMMTQ2IDMwIiBzdHJva2U9IiNkZGRkZGQiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNMTUxIDQwTDE1MSA2MEwxNTYgNjBMMTU2IDIwIiBzdHJva2U9IiNlY2VjZWMiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNMTYxIDI1TDE2MSA2MEwxNjYgNjBMMTY2IDUiIHN0cm9rZT0iI2U1ZTVlNSIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xNzEgNUwxNzEgNjBMMTc2IDYwTDE3NiAxNSIgc3Ryb2tlPSIjZGRkZGRkIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTE4MSAzMEwxODEgNjBMMTg2IDYwTDE4NiAwIiBzdHJva2U9IiNlY2VjZWMiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNMTkxIDIwTDE5MSA2MEwxOTYgNjBMMTk2IDEwIiBzdHJva2U9IiNlNWU1ZTUiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNODYgMjAiIHN0cm9rZT0iIzM4Yjk5NSIgc3Ryb2tlLXdpZHRoPSI0Ii8+CjxwYXRoIGQ9Ik04NiAyMEw5NiAxMCIgc3Ryb2tlPSIjMzhiOTk1IiBzdHJva2Utd2lkdGg9IjQiLz4KPHBhdGggZD0iTTg2IDIwTDc2IDMwIiBzdHJva2U9IiMzOGI5OTUiIHN0cm9rZS13aWR0aD0iNCIvPgo8cGF0aCBkPSJNMTA2IDQwTDExNiAzMCIgc3Ryb2tlPSIjMzhiOTk1IiBzdHJva2Utd2lkdGg9IjQiLz4KPHBhdGggZD0iTTEwNiA0MEwxMjYgNTAiIHN0cm9rZT0iIzM4Yjk5NSIgc3Ryb2tlLXdpZHRoPSI0Ii8+Cjwvc3ZnPgo=');
            background-repeat: no-repeat;
            background-size: contain;
            margin-bottom: 1rem;
        }

        .recent-updates {
            margin-top: auto;
        }

        .update-list {
            margin-top: 1rem;
        }

        .update-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease;
        }

        .update-item:hover {
            transform: translateX(5px);
            background-color: rgba(56, 185, 149, 0.03);
            border-radius: 8px;
            padding-left: 8px;
        }

        .update-item:last-child {
            border-bottom: none;
        }

        .update-info {
            display: flex;
            align-items: center;
        }

        .update-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            color: var(--primary-color);
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .update-item:hover .update-icon {
            transform: scale(1.1);
        }

        .update-text {
            font-size: 0.9rem;
        }

        .update-tag {
            background-color: var(--secondary-color);
            color: var(--primary-color);
            padding: 0.3rem 0.8rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .update-date {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Phone Scanning Visualization */
        .scanning-visualization {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .phone-container {
            position: absolute;
            top: 50%;
            right: 4rem;
            transform: translateY(-50%);
            z-index: 2;
        }

        .phone-mockup {
            width: 280px;
            height: 550px;
            background-color: #000;
            border-radius: 36px;
            box-shadow: var(--shadow);
            padding: 8px;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .phone-mockup:hover {
            transform: scale(1.02) translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .phone-notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 25px;
            background-color: #000;
            border-radius: 0 0 15px 15px;
            z-index: 3;
        }

        .phone-screen {
            width: 100%;
            height: 100%;
            background-color: #fff;
            border-radius: 30px;
            overflow: hidden;
            position: relative;
        }

        .scan-beam {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 20px;
            background-color: rgba(56, 185, 149, 0.3);
            filter: blur(15px);
            border-radius: 50%;
            animation: scanBeam 2s infinite alternate;
            z-index: 1;
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(56, 185, 149, 0.7);
            animation: scanLine 2s infinite linear;
            opacity: 0.7;
        }

        .food-salad {
            position: absolute;
            bottom: 2rem;
            left: 6rem;
            width: 340px;
            height: 340px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iMCAwIDM0MCAzNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjE3MCIgY3k9IjE3MCIgcj0iMTcwIiBmaWxsPSIjRjBGNkU4Ii8+CjxwYXRoIGQ9Ik0xNzUuNSAxMTBDMTQ1LjUgMTEwIDExMC41IDE0NSAxMzEgMTc0QzE1MS41IDIwMyAxOTguNSAyMTkgMjE5IDIwNUMyMzkuNSAxOTEgMjMyIDEzNSAyMTkgMTIzQzIwNiAxMTEgMTkwIDExMCAxNzUuNSAxMTBaIiBmaWxsPSIjNzVDOTQ0Ii8+CjxwYXRoIGQ9Ik0xMjEgMTU1QzEwMSAxNTUgODAgMTgwIDk1LjUgMjAzQzExMSAyMjYgMTU4IDIzOCAxNzguNSAyMjFDMTk5IDIwNCAxOTEuNSAxNDAuNSAxNzguNSAxMjkuNSIgZmlsbD0iIzQ5QTEzMSIvPgo8cGF0aCBkPSJNMTIxIDE5MkMxMDEgMTkyIDk4IDIwMCAxMTMuNSAyMjNDMTI5IDI0NiAxNzYgMjU4IDE5Ni41IDI0MSIgZmlsbD0iIzU1QjA0MSIvPgo8cGF0aCBkPSJNMTQ0IDE2MkMxMjQuNSAxNjIgMTA1IDE3OSAxMjAgMjAyQzEzNSAyMjUgMTgwLjUgMjMzIDE5NS41IDIxNiIgZmlsbD0iIzc1RDMzRSIvPgo8cGF0aCBkPSJNMTk5IDE0NUMxNzkuNSAxNDUgMTYwIDE2MiAxNzUgMTg1QzE5MCAyMDggMjQwIDIxNiAyNTUgMTk5IiBmaWxsPSIjMzlCNTcyIi8+Cjwvc3ZnPgo=');
            background-repeat: no-repeat;
            background-size: contain;
            z-index: 0;
            filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.1));
            animation: floating 10s infinite alternate ease-in-out;
        }

        .scan-circle {
            position: absolute;
            top: 30%;
            left: 30%;
            width: 150px;
            height: 150px;
            border: 3px dashed var(--primary-color);
            border-radius: 50%;
            animation: rotate 10s linear infinite;
            opacity: 0.8;
            box-shadow: 0 0 20px rgba(56, 185, 149, 0.2);
        }

        .scan-light {
            position: absolute;
            top: 45%;
            right: 0;
            width: 200px;
            height: 20px;
            background: linear-gradient(90deg, rgba(56, 185, 149, 0) 0%, rgba(56, 185, 149, 0.4) 100%);
            transform-origin: right center;
            transform: rotate(-5deg);
            filter: blur(5px);
            animation: lightBeam 3s infinite alternate;
        }

        /* Video and Canvas for actual detection */
        .video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            pointer-events: none;
        }

        #video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Loading overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            z-index: 1000;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(56, 185, 149, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        .loading-text {
            font-size: 1.2rem;
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }

        .loading-subtext {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Controls section */
        .controls-section {
            padding: 1.5rem 2rem;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: center;
            gap: 1rem;
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
        }

        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 0.8rem 1.5rem;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            box-shadow: 0 4px 10px rgba(56, 185, 149, 0.2);
        }

        .btn:hover {
            background-color: #32a585;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(56, 185, 149, 0.3);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn-icon {
            margin-right: 0.5rem;
        }

        .btn.secondary {
            background-color: var(--card-bg);
            color: var(--text-color);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: none;
        }

        .btn.secondary:hover {
            background-color: #f0f0f0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        /* Hidden utility */
        .hidden {
            display: none !important;
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes scanBeam {
            from { opacity: 0.3; width: 80px; }
            to { opacity: 0.6; width: 150px; }
        }

        @keyframes scanLine {
            0% { top: 0; }
            100% { top: 100%; }
        }

        @keyframes lightBeam {
            from { opacity: 0.4; transform: rotate(-5deg); }
            to { opacity: 0.8; transform: rotate(-8deg); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive styles */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .food-image-container {
                height: 300px;
            }

            .phone-container {
                position: relative;
                top: auto;
                right: auto;
                transform: none;
                margin: 2rem auto;
            }

            .food-salad {
                position: relative;
                bottom: auto;
                left: auto;
                margin: 0 auto;
            }

            .scan-circle, .scan-light {
                display: none;
            }

            .bg-vegetable {
                opacity: 0.02;
            }
        }

        @media (max-width: 768px) {
            .app-header {
                padding: 1rem;
                flex-wrap: wrap;
            }

            .nav-links {
                margin-left: 0;
                margin-top: 1rem;
                width: 100%;
                overflow-x: auto;
                white-space: nowrap;
                -webkit-overflow-scrolling: touch;
                padding-bottom: 0.5rem;
            }

            .search-bar {
                width: auto;
            }

            .main-content {
                padding: 1rem;
            }

            .food-title {
                font-size: 2rem;
            }

            .metrics-grid {
                grid-template-columns: 1fr;
            }

            .food-image {
                max-width: 80%;
            }

            .phone-mockup {
                width: 240px;
                height: 480px;
            }
        }
    </style>
</head>
<body>
    <!-- Background elements -->
    <div class="bg-pattern"></div>
    <div class="bg-vegetable bg-veg-1"></div>
    <div class="bg-vegetable bg-veg-2"></div>
    <div class="bg-vegetable bg-veg-3"></div>
    <div class="bg-vegetable bg-veg-4"></div>
    <div class="bg-vegetable bg-veg-5"></div>

    <div class="container">
        <header class="app-header">
            <div class="logo">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40NyAyIDIgNi40NyAyIDEyQzIgMTcuNTMgNi40NyAyMiAxMiAyMkMxNy41MyAyMiAyMiAxNy41MyAyMiAxMkMyMiA2LjQ3IDE3LjUzIDIgMTIgMloiIGZpbGw9IiMzOGI5OTUiLz4KPHBhdGggZD0iTTE1LjUgOEw4LjUgMTYiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGQ9Ik04LjUgOEwxNS41IDE2IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K" alt="Logo">
                FoodScan
            </div>
            <div class="nav-links">
                <a href="#" class="active">Mes aliments</a>
                <a href="#">Analyses</a>
                <a href="#">Historique</a>
                <a href="#">Param√®tres</a>
            </div>
            <div class="header-right">
                <div class="search-bar">
                    <div class="search-icon">üîç</div>
                    <input type="text" placeholder="Rechercher un aliment...">
                </div>
                <div class="user-avatar">U</div>
            </div>
        </header>

        <div class="main-content">
            <div class="food-info-section">
                <h1 class="food-title">Salade Fra√Æche</h1>
                <p class="food-subtitle">Analysez votre nourriture pour obtenir des informations nutritionnelles d√©taill√©es.</p>

                <div class="food-image-container">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNTAgNzVDMTIwIDc1IDg1IDExMCAxMDUuNSAxMzlDMTI2IDE2OCAxNzMgMTg0IDE5My41IDE3MEMyMTQgMTU2IDIwNi41IDEwMCAxOTMuNSA4OEMxODAuNSA3NiAxNjQuNSA3NSAxNTAgNzVaIiBmaWxsPSIjNzVDOTQ0Ii8+CjxwYXRoIGQ9Ik05NS41IDEyMEM3NS41IDEyMCA1NC41IDE0NSA3MCAxNjhDODUuNSAxOTEgMTMyLjUgMjAzIDE1MyAxODZDMTczLjUgMTY5IDE2NiAxMDUuNSAxNTMgOTQuNSIgZmlsbD0iIzQ5QTEzMSIvPgo8cGF0aCBkPSJNOTUuNSAxNTdDNzUuNSAxNTcgNzIuNSAxNjUgODggMTg4QzEwMy41IDIxMSAxNTAuNSAyMjMgMTcxIDE3NSIgZmlsbD0iIzU1QjA0MSIvPgo8cGF0aCBkPSJNMTE4LjUgMTI3Qzk5IDE2MiA3OS41IDE0NCAxNjUgMTg3QzE4MCAxNjUgMTU1IDE1MCAxNzAgMTU4IiBmaWxsPSIjNzVEMzNFIi8+CjxwYXRoIGQ9Ik0xNzMuNSAxMTBDMTU0IDExMCAxMzQuNSAxMjcgMTQ5LjUgMTUwQzE2NC41IDE3MyAyMTQuNSAxODEgMjI5LjUgMTY0IiBmaWxsPSIjMzlCNTcyIi8+Cjwvc3ZnPgo=" alt="Salade" class="food-image">
                    <div class="scanning-label">Scan en cours...</div>
                </div>
            </div>

            <div class="scanning-section">
                <div class="section-header">
                    <div class="section-title">Analyse Nutritionnelle</div>
                    <a href="#" class="see-all">Voir tout</a>
                </div>

                <div class="tabs">
                    <button class="tab active">Valeurs Nutritives</button>
                    <button class="tab">Composition</button>
                    <button class="tab">Plus</button>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-name">Calories</div>
                        <div class="metric-value">
                            <div class="metric-icon">üî•</div>
                            <span id="calorie-value">125</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-name">Prot√©ines</div>
                        <div class="metric-value">
                            <div class="metric-icon">ü•©</div>
                            <span id="protein-value">3.5g</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-name">Glucides</div>
                        <div class="metric-value">
                            <div class="metric-icon">üçö</div>
                            <span id="carbs-value">7.2g</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-name">Lipides</div>
                        <div class="metric-value">
                            <div class="metric-icon">üßà</div>
                            <span id="fat-value">5.8g</span>
                        </div>
                    </div>
                </div>

                <div class="smart-analysis">
                    <div class="analysis-title">
                        Analyse Intelligente
                        <div id="status-badge" class="update-tag">Active</div>
                    </div>
                    <div class="analysis-subtitle">Mod√®le d'IA pour analyse pr√©cise</div>
                    <div class="analysis-sound-waves"></div>
                </div>

                <div class="recent-updates">
                    <div class="section-header">
                        <div class="section-title">D√©tections R√©centes</div>
                        <a href="#" class="see-all">Voir tout</a>
                    </div>

                    <div class="update-list" id="detections-list">
                        <!-- Les d√©tections seront ajout√©es ici dynamiquement -->
                        <div class="update-item">
                            <div class="update-info">
                                <div class="update-icon">ü•¶</div>
                                <div class="update-text">Brocoli</div>
                            </div>
                            <div class="update-tag">L√©gume</div>
                            <div class="update-date">2 min</div>
                        </div>
                        <div class="update-item">
                            <div class="update-info">
                                <div class="update-icon">üçé</div>
                                <div class="update-text">Pomme</div>
                            </div>
                            <div class="update-tag">Fruit</div>
                            <div class="update-date">15 min</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="scanning-visualization">
            <div class="food-salad"></div>
            <div class="scan-circle"></div>
            
            <div class="phone-container">
                <div class="phone-mockup">
                    <div class="phone-notch"></div>
                    <div class="phone-screen">
                        <div class="video-container">
                            <video id="video" autoplay playsinline></video>
                            <canvas id="canvas"></canvas>
                        </div>
                        <div class="scan-beam"></div>
                        <div class="scan-line"></div>
                    </div>
                </div>
                <div class="scan-light"></div>
            </div>
        </div>

        <div class="controls-section">
            <button id="startBtn" class="btn"><span class="btn-icon">üì∏</span> D√©marrer la cam√©ra</button>
            <button id="stopBtn" class="btn secondary" disabled><span class="btn-icon">‚èπÔ∏è</span> Arr√™ter</button>
        </div>
    </div>

    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text" id="loadingText">Chargement du mod√®le...</div>
        <div class="loading-subtext" id="loadingSubtext">Veuillez patienter pendant l'initialisation</div>
    </div>

    <script>
        // √âl√©ments du DOM
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const loadingText = document.getElementById('loadingText');
        const loadingSubtext = document.getElementById('loadingSubtext');
        const detectionsList = document.getElementById('detections-list');
        const calorieValue = document.getElementById('calorie-value');
        const proteinValue = document.getElementById('protein-value');
        const carbsValue = document.getElementById('carbs-value');
        const fatValue = document.getElementById('fat-value');
        const statusBadge = document.getElementById('status-badge');

        // Variables globales
        let model;
        let isModelLoaded = false;
        let isDetecting = false;
        let detectionInterval;
        let currentStream = null;

        // Classes d'aliments √† d√©tecter
        const foodClasses = [
            'apple', 'orange', 'banana', 'broccoli', 'carrot', 'hot dog', 
            'pizza', 'donut', 'cake', 'sandwich', 'salad'
        ];

        // Emojis associ√©s aux aliments
        const foodEmojis = {
            'apple': 'üçé',
            'orange': 'üçä',
            'banana': 'üçå',
            'broccoli': 'ü•¶',
            'carrot': 'ü•ï',
            'hot dog': 'üå≠',
            'pizza': 'üçï',
            'donut': 'üç©',
            'cake': 'üç∞',
            'sandwich': 'ü•™',
            'salad': 'ü•ó'
        };

        // Informations nutritionnelles
        const nutritionalInfo = {
            'apple': { calories: 95, protein: '0.5g', carbs: '25g', fat: '0.3g', category: 'Fruit' },
            'orange': { calories: 62, protein: '1.2g', carbs: '15.4g', fat: '0.2g', category: 'Fruit' },
            'banana': { calories: 105, protein: '1.3g', carbs: '27g', fat: '0.4g', category: 'Fruit' },
            'broccoli': { calories: 55, protein: '3.7g', carbs: '11.2g', fat: '0.6g', category: 'L√©gume' },
            'carrot': { calories: 41, protein: '0.9g', carbs: '9.6g', fat: '0.2g', category: 'L√©gume' },
            'hot dog': { calories: 290, protein: '10g', carbs: '18g', fat: '17g', category: 'Pr√©par√©' },
            'pizza': { calories: 285, protein: '12g', carbs: '36g', fat: '10g', category: 'Pr√©par√©' },
            'donut': { calories: 253, protein: '3g', carbs: '30g', fat: '14g', category: 'Dessert' },
            'cake': { calories: 367, protein: '5g', carbs: '50g', fat: '16g', category: 'Dessert' },
            'sandwich': { calories: 350, protein: '15g', carbs: '40g', fat: '12g', category: 'Pr√©par√©' },
            'salad': { calories: 125, protein: '3.5g', carbs: '7.2g', fat: '5.8g', category: 'L√©gume' }
        };

        // Chargement du mod√®le
        async function loadModel() {
            try {
                loadingText.textContent = "Chargement du mod√®le...";
                loadingSubtext.textContent = "Cela peut prendre quelques instants";
                
                model = await cocoSsd.load();
                isModelLoaded = true;
                
                loadingText.textContent = "Mod√®le charg√© avec succ√®s!";
                loadingSubtext.textContent = "Tout est pr√™t pour l'analyse";
                
                setTimeout(() => {
                    loadingOverlay.classList.add('hidden');
                    startBtn.disabled = false;
                }, 1000);
                
            } catch (error) {
                console.error('Erreur lors du chargement du mod√®le:', error);
                loadingText.textContent = "Erreur de chargement";
                loadingSubtext.textContent = "Veuillez rafra√Æchir la page et r√©essayer";
            }
        }

        // D√©marrage de la cam√©ra
        async function startCamera() {
            try {
                loadingOverlay.classList.remove('hidden');
                loadingText.textContent = "Acc√®s √† la cam√©ra...";
                loadingSubtext.textContent = "Veuillez autoriser l'acc√®s √† votre cam√©ra";
                
                const constraints = {
                    video: {
                        width: { ideal: 1280 },
                        height: { ideal: 720 },
                        facingMode: 'environment' // Cam√©ra arri√®re sur mobile
                    }
                };
                
                const stream = await navigator.mediaDevices.getUserMedia(constraints);
                currentStream = stream;
                video.srcObject = stream;
                
                await new Promise(resolve => {
                    video.onloadedmetadata = () => {
                        resolve();
                    };
                });
                
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                
                loadingOverlay.classList.add('hidden');
                
                startBtn.disabled = true;
                stopBtn.disabled = false;
                
                isDetecting = true;
                startDetection();
                
                statusBadge.textContent = "Active";
                statusBadge.style.backgroundColor = "#5ab552";
                
            } catch (error) {
                console.error('Erreur lors de l\'acc√®s √† la cam√©ra:', error);
                loadingText.textContent = "Erreur d'acc√®s √† la cam√©ra";
                loadingSubtext.textContent = "Veuillez v√©rifier les permissions de votre navigateur";
                
                setTimeout(() => {
                    loadingOverlay.classList.add('hidden');
                }, 2000);
            }
        }

        // Arr√™t de la cam√©ra
        function stopCamera() {
            isDetecting = false;
            clearInterval(detectionInterval);
            
            if (currentStream) {
                currentStream.getTracks().forEach(track => track.stop());
                video.srcObject = null;
                currentStream = null;
            }
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            statusBadge.textContent = "Inactive";
            statusBadge.style.backgroundColor = "#aaaaaa";
            
            startBtn.disabled = false;
            stopBtn.disabled = true;
        }

        // D√©marrage de la d√©tection (3 FPS)
        function startDetection() {
            if (!isDetecting) return;
            detectionInterval = setInterval(detectObjects, 333);
        }

        // D√©tection des objets dans le flux vid√©o
        async function detectObjects() {
            if (!isDetecting || !isModelLoaded) return;
            
            try {
                const predictions = await model.detect(video);
                
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const foodPredictions = predictions.filter(prediction => 
                    foodClasses.includes(prediction.class)
                );
                
                // Si des aliments sont d√©tect√©s, mettre √† jour l'interface
                if (foodPredictions.length > 0) {
                    // Dessiner les bo√Ætes de d√©tection
                    foodPredictions.forEach(prediction => drawDetection(prediction));
                    
                    // Mettre √† jour les d√©tections r√©centes
                    updateDetectionsList(foodPredictions);
                    
                    // Mettre √† jour les valeurs nutritionnelles avec le premier aliment d√©tect√©
                    updateNutritionalValues(foodPredictions[0].class);
                }
                
            } catch (error) {
                console.error('Erreur lors de la d√©tection:', error);
            }
        }

        // Dessiner une d√©tection sur le canvas
        function drawDetection(prediction) {
            const [x, y, width, height] = prediction.bbox;
            const label = `${prediction.class} (${Math.round(prediction.score * 100)}%)`;
            
            // Rectangle de d√©tection
            ctx.strokeStyle = '#38b995';
            ctx.lineWidth = 3;
            ctx.strokeRect(x, y, width, height);
            
            // Fond du texte
            ctx.fillStyle = 'rgba(56, 185, 149, 0.8)';
            const textWidth = ctx.measureText(label).width + 10;
            ctx.fillRect(x, y - 30, textWidth, 30);
            
            // Texte
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 16px Inter';
            ctx.fillText(label, x + 5, y - 10);
        }

        // Mettre √† jour la liste des d√©tections r√©centes
        function updateDetectionsList(predictions) {
            // Ne garder que les 5 premiers avec un score > 0.5
            const topPredictions = predictions
                .filter(p => p.score > 0.5)
                .slice(0, 5);
            
            if (topPredictions.length === 0) return;
            
            // Ajouter la premi√®re pr√©diction au d√©but de la liste
            const prediction = topPredictions[0];
            const foodName = prediction.class;
            const emoji = foodEmojis[foodName] || 'üçΩÔ∏è';
            const category = nutritionalInfo[foodName]?.category || 'Aliment';
            
            // Cr√©er le nouvel √©l√©ment HTML
            const newDetection = document.createElement('div');
            newDetection.className = 'update-item';
            newDetection.innerHTML = `
                <div class="update-info">
                    <div class="update-icon">${emoji}</div>
                    <div class="update-text">${foodName.charAt(0).toUpperCase() + foodName.slice(1)}</div>
                </div>
                <div class="update-tag">${category}</div>
                <div class="update-date">√† l'instant</div>
            `;
            
            // Ajouter au d√©but de la liste
            detectionsList.insertBefore(newDetection, detectionsList.firstChild);
            
            // Limiter √† 5 √©l√©ments
            while (detectionsList.children.length > 5) {
                detectionsList.removeChild(detectionsList.lastChild);
            }
        }

        // Mettre √† jour les valeurs nutritionnelles
        function updateNutritionalValues(foodName) {
            const info = nutritionalInfo[foodName];
            if (!info) return;
            
            // Animation simple pour les changements de valeurs
            animateValue(calorieValue, calorieValue.textContent, info.calories);
            animateValue(proteinValue, proteinValue.textContent, info.protein);
            animateValue(carbsValue, carbsValue.textContent, info.carbs);
            animateValue(fatValue, fatValue.textContent, info.fat);
        }

        // Animation simple pour les changements de valeurs
        function animateValue(element, startValue, endValue) {
            element.textContent = endValue;
            element.style.animation = 'none';
            setTimeout(() => {
                element.style.animation = 'pulse 0.5s';
            }, 10);
        }

        // √âv√©nements
        startBtn.addEventListener('click', startCamera);
        stopBtn.addEventListener('click', stopCamera);

        // Initialisation
        window.addEventListener('load', loadModel);
    </script>
</body>
</html>